(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{403:function(t,e,r){var content=r(404);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(14).default)("5c8fbe94",content,!0,{sourceMap:!1})},404:function(t,e,r){(t.exports=r(13)(!1)).push([t.i,".theme--light.v-textarea.v-text-field--solo-inverted.v-text-field--solo.v-input--is-focused textarea{color:#fff}.theme--dark.v-textarea.v-text-field--solo-inverted.v-text-field--solo.v-input--is-focused textarea{color:rgba(0,0,0,.87)}.v-textarea textarea{flex:1 1 auto;line-height:18px;max-width:100%;min-height:32px;outline:none;padding:7px 0 8px;width:100%}.v-textarea .v-text-field__prefix{padding-top:4px;align-self:start}.v-textarea.v-text-field--box .v-text-field__prefix,.v-textarea.v-text-field--box textarea,.v-textarea.v-text-field--enclosed .v-text-field__prefix,.v-textarea.v-text-field--enclosed textarea{margin-top:24px}.v-textarea.v-text-field--box.v-text-field--outlined .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--outlined textarea,.v-textarea.v-text-field--box.v-text-field--single-line .v-text-field__prefix,.v-textarea.v-text-field--box.v-text-field--single-line textarea,.v-textarea.v-text-field--enclosed.v-text-field--outlined .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--outlined textarea,.v-textarea.v-text-field--enclosed.v-text-field--single-line .v-text-field__prefix,.v-textarea.v-text-field--enclosed.v-text-field--single-line textarea{margin-top:12px}.v-textarea.v-text-field--box.v-text-field--outlined .v-label,.v-textarea.v-text-field--box.v-text-field--single-line .v-label,.v-textarea.v-text-field--enclosed.v-text-field--outlined .v-label,.v-textarea.v-text-field--enclosed.v-text-field--single-line .v-label{top:18px}.v-textarea.v-text-field--solo{align-items:flex-start}.v-textarea.v-text-field--solo .v-input__append-inner,.v-textarea.v-text-field--solo .v-input__append-outer,.v-textarea.v-text-field--solo .v-input__prepend-inner,.v-textarea.v-text-field--solo .v-input__prepend-outer{align-self:flex-start;margin-top:16px}.v-application--is-ltr .v-textarea.v-text-field--solo .v-input__append-inner{padding-left:12px}.v-application--is-rtl .v-textarea.v-text-field--solo .v-input__append-inner{padding-right:12px}.v-textarea--auto-grow textarea{overflow:hidden}.v-textarea--no-resize textarea{resize:none}.v-textarea.v-text-field--enclosed .v-text-field__slot{margin-right:-12px}.v-textarea.v-text-field--enclosed .v-text-field__slot textarea{padding-right:12px}.v-application--is-rtl .v-textarea.v-text-field--enclosed .v-text-field__slot{margin-right:0;margin-left:-12px}.v-application--is-rtl .v-textarea.v-text-field--enclosed .v-text-field__slot textarea{padding-right:0;padding-left:12px}",""])},438:function(t,e,r){"use strict";r.r(e);r(39),r(43);var n,o,l,c,d=r(15),v=r(52),x={data:function(){return{users:[],dialog:!1,id:"",name:"",priority:0,description:"",loading:!1}},asyncData:(c=Object(d.a)(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.firestore().collection("departments").orderBy("priority","asc").get();case 2:return e=t.sent,r=[],e.forEach((function(t){var e=t.data();e.id=t.id,r.push(e)})),t.abrupt("return",{departments:r});case 6:case"end":return t.stop()}}),t)}))),function(){return c.apply(this,arguments)}),methods:{openDialog:function(data){data?(this.id=data.id,this.name=data.name,this.priority=data.priority,this.description=data.description):this.clearData(),this.dialog=!0},clickCancel:function(){this.clearData(),this.dialog=!1},clickRegist:(l=Object(d.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.loading=!0,e=v.a.firestore().collection("departments"),this.id){t.next=7;break}return t.next=5,e.doc().set({name:this.name,priority:this.priority,description:this.description});case 5:t.next=9;break;case 7:return t.next=9,e.doc(this.id).set({name:this.name,priority:this.priority,description:this.description},{merge:!0});case 9:return this.clearData(),this.dialog=!1,this.loading=!1,t.next=14,this.fetchData();case 14:this.departments=t.sent;case 15:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)}),clickDelete:(o=Object(d.a)(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,this.dialog=!0,r=v.a.firestore().collection("departments"),t.next=5,r.doc(e).delete();case 5:return this.dialog=!1,this.loading=!1,t.next=9,this.fetchData();case 9:this.departments=t.sent;case 10:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)}),clearData:function(){this.id="",this.name="",this.priority=0,this.description=""},fetchData:(n=Object(d.a)(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.firestore().collection("departments").orderBy("priority","asc").get();case 2:return e=t.sent,r=[],e.forEach((function(t){var e=t.data();e.id=t.id,r.push(e)})),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})}},f=r(62),h=r(83),m=r.n(h),_=r(133),y=r(350),w=r(327),k=r(320),O=r(431),D=r(125),j=r(352),P=r(338),R=r(324),V=r(339),I=(r(12),r(9),r(7),r(6),r(8),r(3)),C=(r(18),r(403),r(10));function H(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var z=Object(C.a)(V.a).extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?H(source,!0).forEach((function(e){Object(I.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):H(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},V.a.options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var input=this.$refs.input;if(input){input.style.height="0";var t=input.scrollHeight,e=parseInt(this.rows,10)*parseFloat(this.rowHeight);input.style.height=Math.max(e,t)+"px"}},genInput:function(){var input=V.a.options.methods.genInput.call(this);return input.tag="textarea",delete input.data.attrs.type,input.data.attrs.rows=this.rows,input},onInput:function(t){V.a.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}}),component=Object(f.a)(x,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("h1",[t._v("部門一覧")]),r("v-simple-table",[r("tr",[r("th",[t._v("ID")]),r("th",[t._v("部門名")]),r("th",[t._v("アイコン")]),r("th",[t._v("優先度")]),r("th",[t._v("概要")])]),t._l(t.departments,(function(e){return r("tr",{key:e.id},[r("td",[r("nuxt-link",{attrs:{to:{name:"departments-id",params:{id:e.id}}}},[t._v(t._s(e.id))])],1),r("td",[t._v(t._s(e.name))]),r("td",[t._v(t._s(e.icon))]),r("td",[t._v(t._s(e.priority))]),r("td",[t._v(t._s(e.description))]),r("td",[r("v-btn",{attrs:{small:""},on:{click:function(r){return r.stopPropagation(),t.openDialog(e)}}},[r("v-icon",[t._v("mdi-pencil")])],1)],1),r("td",[r("v-btn",{attrs:{small:""},on:{click:function(r){return r.stopPropagation(),t.clickDelete(e.id)}}},[r("v-icon",[t._v("mdi-delete")])],1)],1)])}))],2),r("br"),r("v-btn",{attrs:{color:"red",dark:"",fixed:"",bottom:"",right:"",fab:""},on:{click:function(e){return e.stopPropagation(),t.openDialog()}}},[r("v-icon",[t._v("mdi-plus")])],1),r("v-dialog",{attrs:{"max-width":"720",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-card-title",[r("div",{staticClass:"headline"},[t._v("部門登録/編集")])]),t.loading?t._e():r("v-card-text",[r("v-container",[r("v-text-field",{attrs:{label:"name",hint:"部門名",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),r("v-textarea",{attrs:{label:"description",hint:"説明",required:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),r("v-text-field",{attrs:{type:"number",label:"priority",hint:"プライオリティ",required:""},model:{value:t.priority,callback:function(e){t.priority=e},expression:"priority"}})],1)],1),t.loading?r("v-card-text",[t._v("Please stand by"),r("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1):t._e(),t.loading?t._e():r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1"},on:{click:function(e){return t.clickCancel()}}},[t._v("キャンセル")]),r("v-btn",{attrs:{color:"blue darken-1"},on:{click:function(e){return t.clickRegist()}}},[t._v("登録")])],1)],1)],1)],1)}),[],!1,null,"73371841",null);e.default=component.exports;m()(component,{VBtn:_.a,VCard:y.a,VCardActions:w.a,VCardText:w.b,VCardTitle:w.c,VContainer:k.a,VDialog:O.a,VIcon:D.a,VProgressLinear:j.a,VSimpleTable:P.a,VSpacer:R.a,VTextField:V.a,VTextarea:z})}}]);